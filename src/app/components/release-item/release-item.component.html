<div class="release-item">
  @if (release.coverUrl) {
    <img src="{{ release.coverUrl }}" alt="{{ release.title }}" class="release-cover" />
  } @else {
    <div class="release-cover"></div>
  }
  
  <div class="release-info">
    <p class="release-title">{{ release.title }}</p>
    <p class="release-date">
      <span class="material-icons">calendar_today</span>
      {{ release.releaseDate | dateFormat:'short' }}
    </p>
  </div>

  <app-status-badge [status]="release.status"></app-status-badge>

  <div class="actions">
    <button class="edit-btn" (click)="onEditClick()">
      <span class="material-icons">edit</span>
      Edit
    </button>
    <button class="tracks-btn" (click)="toggleTracks()">
      <span class="material-icons">{{ showTracks ? 'visibility_off' : 'visibility' }}</span>
      {{ showTracks ? 'Hide Tracks' : 'Show Tracks' }}
    </button>
    <button class="delete-btn" (click)="onDeleteClick()" title="Delete release">
      <span class="material-icons">delete</span>
    </button>
  </div>
</div>

@if (showTracks) {
  <div class="tracks-container">
    <app-track-list [tracks]="tracks" (trackDeleted)="onTrackDeleted($event)"></app-track-list>
  </div>
}
